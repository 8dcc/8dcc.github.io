<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>My favorite GNU/Emacs features</title>
<meta name="author" content="8dcc" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="icon" type="image/x-icon" href="../img/favicon.png">
<link rel="stylesheet" type="text/css" href="../css/main.css">
</head>
<body>
<div id="content" class="content">
<h1 class="title">My favorite GNU/Emacs features</h1>
<p>
<a href="../index.html">Index</a> | <a href="index.html">Up</a>
</p>

<hr />

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#introduction">1. Introduction</a>
<ul>
<li><a href="#quick-note-about-vanilla-keybinds">1.1. Quick note about vanilla keybinds</a></li>
<li><a href="#quick-note-about-keybind-notation">1.2. Quick note about keybind notation</a></li>
<li><a href="#small-emacs-glossary">1.3. Small Emacs glossary</a></li>
</ul>
</li>
<li><a href="#general-design-choices">2. General design choices</a>
<ul>
<li><a href="#gui-vs-terminal">2.1. GUI vs. Terminal</a></li>
<li><a href="#emacs-lisp">2.2. Emacs Lisp</a></li>
</ul>
</li>
<li><a href="#built-in-features">3. Built-in features</a>
<ul>
<li><a href="#org-mode">3.1. Org mode</a></li>
<li><a href="#gdb">3.2. GDB</a></li>
<li><a href="#eshell">3.3. Eshell</a></li>
<li><a href="#dired">3.4. Dired</a></li>
<li><a href="#grep">3.5. Grep</a></li>
<li><a href="#compilation">3.6. Compilation</a></li>
<li><a href="#ediff">3.7. Ediff</a></li>
<li><a href="#browser-and-external-documentation">3.8. Browser and external documentation</a></li>
<li><a href="#erc">3.9. ERC</a></li>
<li><a href="#c-macro-expansion">3.10. C macro expansion</a></li>
<li><a href="#calculator">3.11. Calculator</a></li>
</ul>
</li>
<li><a href="#external-packages">4. External packages</a>
<ul>
<li><a href="#evil-mode">4.1. Evil mode</a></li>
<li><a href="#magit">4.2. Magit</a></li>
<li><a href="#vundo">4.3. Vundo</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-introduction" class="outline-2">
<h2 id="introduction"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-introduction">
<p>
<a href="https://www.gnu.org/software/emacs/">Emacs</a> is an amazing editor. I come from <a href="https://neovim.io/">neovim</a> and I decided to try <a href="https://github.com/doomemacs/doomemacs">doom emacs</a>
some years ago, and decided to eventually switch to vanilla Emacs and customize
it to my liking. I keep customizing more and more stuff in my <a href="https://github.com/8dcc/emacs-dotfiles/blob/main/emacs/config.org">dotfiles</a>.
</p>

<p>
As you might have heard, Emacs <i>is not</i> a text editor, Emacs <i>has</i> a text editor. It
has a lot of features, and it&rsquo;s so easy to customize and extend that it creates
an amazing environment for programming or general text editing.
</p>

<p>
With that in mind, let me say that Emacs is not really comparable to vi-like
editors&#x2026; Because they are just editors. They do one thing, and they do it
really good: They let you edit text files, and very efficiently. Emacs is much
more, which can save time but might also be an overkill for some people.
</p>

<p>
I decided to make a list of some of the Emacs features/packages I enjoy the
most, mainly because I keep forgetting some stuff even exists. I am using GNU
Emacs version 29.3, in GNU/Linux.
</p>
</div>

<div id="outline-container-quick-note-about-vanilla-keybinds" class="outline-3">
<h3 id="quick-note-about-vanilla-keybinds"><span class="section-number-3">1.1.</span> Quick note about vanilla keybinds</h3>
<div class="outline-text-3" id="text-quick-note-about-vanilla-keybinds">
<p>
I don&rsquo;t like the vanilla GNU Emacs keybinds. At all. I don&rsquo;t know them and I
don&rsquo;t want to, even the most experienced Emacs users say they suck, and often
change them.
</p>

<p>
I use evil mode, which allows vi-like keybinds. See <a href="#evil-mode">Evil mode</a> below.
</p>

<p>
See also <a href="https://en.wikipedia.org/wiki/Repetitive_strain_injury">RSI</a>, <a href="http://xahlee.info/kbd/typing_rsi.html">Xah Lee&rsquo;s RSI page</a> and <a href="http://xahlee.info/emacs/emacs/emacs_pinky.html">Xah Lee&rsquo;s Emacs pinky page</a>.
</p>
</div>
</div>

<div id="outline-container-quick-note-about-keybind-notation" class="outline-3">
<h3 id="quick-note-about-keybind-notation"><span class="section-number-3">1.2.</span> Quick note about keybind notation</h3>
<div class="outline-text-3" id="text-quick-note-about-keybind-notation">
<p>
The key notation used in the Emacs context is the following.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-</code></td>
<td class="org-left">Press and hold the Control key</td>
</tr>

<tr>
<td class="org-left"><code>M-</code></td>
<td class="org-left">Press and hold the Meta (Alt) key</td>
</tr>

<tr>
<td class="org-left"><code>S-</code></td>
<td class="org-left">Press and hold the Shift key</td>
</tr>

<tr>
<td class="org-left"><code>DEL</code></td>
<td class="org-left">Press the Backspace key, <b>not the delete key</b></td>
</tr>

<tr>
<td class="org-left"><code>RET</code></td>
<td class="org-left">Press the Return or Enter key</td>
</tr>

<tr>
<td class="org-left"><code>SPC</code></td>
<td class="org-left">Press the Space bar</td>
</tr>

<tr>
<td class="org-left"><code>ESC</code></td>
<td class="org-left">Press the Escape key</td>
</tr>

<tr>
<td class="org-left"><code>TAB</code></td>
<td class="org-left">Press the Tab key</td>
</tr>
</tbody>
</table>

<p>
For example:
</p>

<ul class="org-ul">
<li><code>C-M-s</code> (or, equivalently, <code>M-C-s</code>): Press and hold both <b>Control</b> and <b>Meta</b> (Alt)
keys while hitting the <b>s</b> key.</li>
<li><code>SPC t c</code>: Press <b>Space</b>, then <b>t</b> and finally <b>c</b>.</li>
<li><code>M-x find-file RET</code>: Press and hold <b>Meta</b> (Alt), hit the <b>x</b> key, type &ldquo; find-file &rdquo;, and press
<b>Return</b>.</li>
</ul>

<p>
Note that <code>M-x ... RET</code> is a common pattern, since <code>M-x</code> opens the &ldquo;execute command&rdquo;
menu.
</p>
</div>
</div>

<div id="outline-container-small-emacs-glossary" class="outline-3">
<h3 id="small-emacs-glossary"><span class="section-number-3">1.3.</span> Small Emacs glossary</h3>
<div class="outline-text-3" id="text-small-emacs-glossary">
<p>
In case anyone is very new to Emacs, this list might help understanding the
difference between some terms used in this page.
</p>
</div>

<div id="outline-container-frames-windows-and-buffers" class="outline-4">
<h4 id="frames-windows-and-buffers"><span class="section-number-4">1.3.1.</span> Frames, windows and buffers</h4>
<div class="outline-text-4" id="text-frames-windows-and-buffers">
<p>
These terms have other meanings in other contexts, so it&rsquo;s normal to confuse
these when starting with Emacs.
</p>

<ul class="org-ul">
<li><b>Frame</b>: Top-level Emacs display element. In the DE/WM context, this would be
referred to as a &ldquo;Window&rdquo;, but this term has another meaning within Emacs.</li>
<li><b>Window</b>: Contained within a Frame. Basically, the splits in which your Frame is
divided. Each Window contains a Buffer.</li>
<li><b>Buffer</b>: The actual content of a Window. It&rsquo;s usually an interface between
Emacs and a file, but it&rsquo;s not always the case. You can have hundreds of them
open, but you will probably be working with only a couple at a time through
your Windows.</li>
</ul>

<p>
For more information and visual examples, see: <a href="https://www.emacswiki.org/emacs/WindowsAndFrames">EmacsWiki</a>, <a href="https://smythp.com/emacs_buffers/">smythp.com</a>.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-general-design-choices" class="outline-2">
<h2 id="general-design-choices"><span class="section-number-2">2.</span> General design choices</h2>
<div class="outline-text-2" id="text-general-design-choices">
</div>

<div id="outline-container-gui-vs-terminal" class="outline-3">
<h3 id="gui-vs-terminal"><span class="section-number-3">2.1.</span> GUI vs. Terminal</h3>
<div class="outline-text-3" id="text-gui-vs-terminal">
<p>
Emacs is a GUI program. It can be ran in a terminal, but you will be limiting
its potential. The fact that Emacs has its own window has a lot of advantages
over terminal editors like neovim.
</p>

<p>
For example, you can display inline images, open PDF files, change the font
styles (without being limited by the terminal&rsquo;s styles), change the fonts
themselves for certain regions, etc.
</p>
</div>
</div>

<div id="outline-container-emacs-lisp" class="outline-3">
<h3 id="emacs-lisp"><span class="section-number-3">2.2.</span> Emacs Lisp</h3>
<div class="outline-text-3" id="text-emacs-lisp">
<p>
Emacs uses its own dialect of <a href="https://en.wikipedia.org/wiki/Lisp">Lisp</a> as its programming language: <a href="https://en.wikipedia.org/wiki/Emacs_Lisp">Emacs Lisp</a>.
</p>

<p>
I started looking at Lisp languages because Richard Stallman, one of the
creators of Emacs, recommended it in one of his talks. Then I found that Emacs
is made in its own Lisp dialect.
</p>

<p>
Since using Emacs, specially since switching to vanilla, I have learned a lot
about Lisp and functional programming, and I can say I don&rsquo;t regret it one bit.
</p>

<p>
Even if you don&rsquo;t use Emacs, <b>check out the Lisp language family</b>, you will learn
a lot.
</p>

<p>
Another interesting part about Emacs Lisp is its self documentation. If you go
to the <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/index.html">Emacs manual website</a>, you can read the following.
</p>

<blockquote>
<p>
Emacs is the advanced, extensible, customizable, <b>self-documenting</b> editor.
</p>
</blockquote>

<p>
They are not lying. Simply press <code>C-h v</code> and start typing a variable name to
display its documentation. You can also search for functions with <code>C-h f</code>.
</p>

<p>
See also: <a href="https://www.gnu.org/software/emacs/manual/pdf/elisp.pdf">Emacs Lisp manual (PDF)</a>.
</p>
</div>
</div>
</div>

<div id="outline-container-built-in-features" class="outline-2">
<h2 id="built-in-features"><span class="section-number-2">3.</span> Built-in features</h2>
<div class="outline-text-2" id="text-built-in-features">
<p>
These packages are currently built into vanilla GNU Emacs, but this might not be
the case in older versions, so keep that in mind.
</p>
</div>

<div id="outline-container-org-mode" class="outline-3">
<h3 id="org-mode"><span class="section-number-3">3.1.</span> Org mode</h3>
<div class="outline-text-3" id="text-org-mode">
<p>
From the <a href="https://www.emacswiki.org/emacs/OrgMode">EmacsWiki</a>:
</p>

<blockquote>
<p>
Org-mode is an Emacs mode for note keeping, project planning, TODO lists and
authoring. It is included from Emacs 22.1 onward as default.
</p>

<p>
Features:
</p>
<ul class="org-ul">
<li>Outlines: headlines, TODO items, checklists, numbered lists, searching,
filtering</li>
<li>Filing: outlines, tagging, refiling, archiving, sorting, flexible enough to
build a “getting things done” workflow</li>
<li>Timestamp: deadlines, clocking in/out, scheduled items, repeating items,
optionally integrated with emacs calendar and diary</li>
<li>Markup: bold, italic, lists, links, images, math (via LaTeX), code
highlighting</li>
<li>Links to URLs, files, gnus, rmail, vm, news, wanderlust, bbdb, irc, shell
commands, bookmarks, images, attachments</li>
<li>Table: editing, spreadsheets, formulas</li>
<li>Export: HTML, LaTeX, Markdown, iCalendar, OpenDocument, Beamer slides, PDF,
and more via an extensible exporting system</li>
<li>Babel: Literate programming, reproducible research, OrgModeSQL</li>
<li>Agenda: Overview of scheduled and TODO items across files</li>
</ul>
</blockquote>

<p>
It is an extremely useful markdown format, and it can be used for a variety of
things. For example, this blog itself is written in Org, and it&rsquo;s exported to
HTML from within Emacs.
</p>

<p>
Org-mode can also be used for <a href="https://en.wikipedia.org/wiki/Literate_programming">literate programming</a>. Just like in other markdown
formats, you can embed code blocks within Org files. The interesting part is
that you can <a href="https://orgmode.org/org.html#Evaluating-Code-Blocks-1">evaluate them</a> from Emacs, and <a href="https://orgmode.org/org.html#Results-of-Evaluation-1">write their output</a> to the same file,
for example. Or you can choose to <a href="https://orgmode.org/org.html#Extracting-Source-Code-1">export the code blocks</a> of your Org file to
different sources, filtering by language. I use this for my <a href="https://github.com/8dcc/emacs-dotfiles">emacs configuration</a>,
and it allows me to put the code snippets between the markdown text, rather than
using very long plain comments within a single source.
</p>


<div id="orgd7b5315" class="figure">
<p><img src="../img/emacs-org.png" alt="emacs-org.png" />
</p>
</div>

<p>
See also: <a href="https://orgmode.org/manuals.html">Org-mode manual</a>.
</p>
</div>
</div>

<div id="outline-container-gdb" class="outline-3">
<h3 id="gdb"><span class="section-number-3">3.2.</span> GDB</h3>
<div class="outline-text-3" id="text-gdb">
<p>
Emacs has an excellent integration with the GNU Debugger, <a href="https://www.sourceware.org/gdb/">gdb</a>. You can run <code>M-x
gud-gdb</code>, and you can get basically what you would get by running <code>gdb</code> on a
terminal.
</p>

<p>
The good part, however, is when you integrate <code>gdb</code> with your entire editor. Try
setting the following variables, and then running <code>M-x gdb</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #989898;">; </span><span style="color: #989898;">Launch in the Many Windows layout.</span>
<span style="color: #ff5f59;">(</span><span style="color: #ff6f9f;">setq</span> gdb-many-windows t<span style="color: #ff5f59;">)</span>

<span style="color: #989898;">; </span><span style="color: #989898;">Restore previous windows when GDB stops</span>
<span style="color: #ff5f59;">(</span><span style="color: #ff6f9f;">setq</span> gdb-restore-window-configuration-after-quit 'if-gdb-many-windows<span style="color: #ff5f59;">)</span>
</pre>
</div>

<p>
Behold, the beauty of GNU Emacs (at least since version 22.1).
</p>


<div id="org38c2b2d" class="figure">
<p><img src="../img/emacs-gdb.png" alt="emacs-gdb.png" />
</p>
</div>

<p>
All 6 windows have been opened by <code>gdb</code>, but don&rsquo;t worry, your previous layout
will be restored when you quit out of <code>gdb</code>. Let&rsquo;s briefly look at what each
window is doing:
</p>

<ol class="org-ol">
<li>In the top left, you can see the <code>gud-gdb</code> prompt you would get when simply
running <code>M-x gud-gdb</code>. From there, you can run your usual <code>gdb</code> commands, like
<code>break</code>, <code>run</code> and <code>continue</code>.</li>
<li>On the top right, you can see how your variables are updated in real
time. You can also click on the &ldquo;Registers&rdquo; tab to switch to that view.</li>
<li>On the middle left, you can see the source where the current instruction is,
which obviously gets updated whenever your program jumps to an instruction in
a different file.</li>
<li>On the middle right, you can write the input and see the output of your
program.</li>
<li>On the bottom left, you can see the call stack of the instruction being
debugged. You can click on each line to jump to that position.</li>
<li>On the bottom right, you can see and interact with your breakpoints and
threads. You can enable and disable breakpoints, jump at their positions in
the code, etc.</li>
</ol>

<p>
If you look closely at the <code>gud</code> window, you can see that the third breakpoint was
added without a <code>break</code> command. That&rsquo;s because you can click the <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Fringes.html">fringes</a> of
source buffers to add breakpoints on those lines. The red dots represent
breakpoints, and the gray arrow represents the current instruction. If you are
wondering about the green and blue lines, they show the <a href="https://github.com/emacsorphanage/git-gutter-fringe">git changes</a> of the
current file.
</p>

<p>
Are you <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Other-GDB-Buffers.html">missing</a> the assembly window? In that case, you have my respect. From the
<code>gud</code> window (top left), you can replace the <i>source</i> buffer (middle left) with the
<i>assembly</i> buffer by running <code>M-x gdb-display-disassembly-buffer</code>.
</p>

<p>
You messed the windows up? No problem, simply run <code>M-x gdb-restore-windows</code>.
</p>
</div>
</div>

<div id="outline-container-eshell" class="outline-3">
<h3 id="eshell"><span class="section-number-3">3.3.</span> Eshell</h3>
<div class="outline-text-3" id="text-eshell">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_mono/eshell.html">Eshell</a> is a shell written in Emacs Lisp. It was added officially to Emacs 21.
</p>

<p>
When I first tried it, I didn&rsquo;t like it, because it was a bit different from
other shells like <a href="https://github.com/akermu/emacs-libvterm/">vterm</a>. The general feeling and some particular keybinds
(e.g. <code>M-r</code> instead of <code>^R</code> for accessing the history) might feel weird at first,
but it&rsquo;s really nice once you get the hang of it.
</p>

<p>
Since it&rsquo;s a normal Emacs <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Buffers.html">buffer</a>, you can yank text, paste it, delete it, write
it anywhere, etc. Eshell allows you to re-run commands by pressing <code>RET</code> on a
previous line where it was called (by checking against the <code>eshell-prompt-regex</code>
variable). This also allows you to save the output of an eshell session into a
file, for example.
</p>

<p>
It&rsquo;s capable of running Emacs Lisp code, and calling Emacs functions. So you can
not only call normal system programs, but you can also use, for example,
<code>find-file a.txt</code> to open a file in that window.
</p>
</div>
</div>

<div id="outline-container-dired" class="outline-3">
<h3 id="dired"><span class="section-number-3">3.4.</span> Dired</h3>
<div class="outline-text-3" id="text-dired">
<p>
Dired, the Directory Editor, is the Emacs file manager. Dired has many useful
features, but I will talk about the ones I use the most. Note that some of my
keybinds come from <a href="#evil-mode">Evil mode</a>, but you can consult them in <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dired.html">the Dired section</a> of
the Emacs manual.
</p>

<dl class="org-dl">
<dt>Marking</dt><dd>You generally operate on files and directories by <i>marking</i> them with <code>m</code>. If the
region is active, all the selected files are marked. You can mark all items in
the current buffer with <code>t</code>. You can unmark all items in the current buffer with
<code>U</code>.</dd>

<dt>Navigation</dt><dd><p>
You can move through the buffer with <a href="#evil-mode">normal evil keys</a>. You can go up to the
parent directory with the <code>^</code> key.
</p>

<p>
You can add the contents of sub-directories into the current dired buffer with
<code>I</code>. If the sub-directory&rsquo;s contents are already present in the buffer, the <code>I</code>
command just moves to it. If the point is in a sub-diredtory, and the parent
is in the same buffer, you can press <code>^</code> to move to the line where the current
directory appears in the parent. You can remove a subdirectory with <code>C-u K</code> or
<code>M-x dired-kill-subdir</code>.
</p></dd>

<dt>General commands</dt><dd><p>
You can <i>flag</i> files or directories for deletion with <code>d</code>, and unflag them with
<code>u</code>. You can delete all items flagged for deletion in the current buffer with
<code>x</code>. You can also delete all <i>marked</i> files with <code>D</code>.
</p>

<p>
You can copy files with <code>C</code>, and rename/move them with <code>R</code>. You can change
permissions with <code>M</code>, the user with <code>O</code> and the group with <code>G</code>. You can touch them
with <code>T</code>. You can print files with <code>P</code> (usually with <code>lpr</code>). You can
compress/uncompress them with <code>Z</code> (usually with <code>gzip</code>).
</p>

<p>
You can create new directories with <code>+</code>.
</p></dd>

<dt>Search, replace and compare</dt><dd><p>
You can search for regular expressions in marked files with <code>A</code>. It&rsquo;s a variant
of <code>xref-find-references</code> (in my config bound to <code>SPC j x</code>), so it displays an
<code>*xref*</code> buffer (or a fancy completion, if overwriting <code>xref-show-xrefs-function</code>
with something like <a href="https://github.com/minad/consult">consult</a>).
</p>

<p>
You can replace text (with <code>query-replace-regexp</code>) in the marked buffers with
<code>Q</code>. This is a very useful feature. If you exit the query replace loop, you can
use <code>r</code> in the <code>*xref*</code> buffer to continue replacing. If there are marked
directories in the current buffer when invoking, they are searched
recursively.
</p>

<p>
You can compare two files (the file at point with a second prompted file) in a
<code>*Diff*</code> buffer with <code>=</code>.
</p></dd>

<dt>Remote directories</dt><dd>You can access remote files in Dired with the usual <code>/method:...</code> syntax. See
the <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Remote-Files.html">Remote Files</a> section of the Emacs manual.</dd>

<dt>Wdired</dt><dd><p>
By default, Dired buffers are read-only. However, you can enable the Wdired
mode with <code>M-x wdired-change-to-wdired-mode</code> or with <code>M-x read-only-mode</code>. In this
state you can rename files, move them by appending a path to the name, or mark
them for deletion by deleting the whole name.
</p>

<p>
This can be really useful with evil&rsquo;s visual block (or the Emacs alternative,
which I honestly don&rsquo;t know).
</p></dd>
</dl>
</div>
</div>

<div id="outline-container-grep" class="outline-3">
<h3 id="grep"><span class="section-number-3">3.5.</span> Grep</h3>
<div class="outline-text-3" id="text-grep">
<p>
You can run <code>grep</code> commands from within Emacs. The basic form is with <code>M-x grep</code>,
which simply runs a grep command (or a command with a similar output) and
displays the matches in an interactive buffer.
</p>


<div id="org7333e36" class="figure">
<p><img src="../img/emacs-grep.png" alt="emacs-grep.png" />
</p>
</div>

<p>
You can jump to each of those lines.
</p>

<p>
The <code>M-x rgrep</code> command is one of my favorites, because it allows you to grep for
a term recursively in the specified folder.
</p>

<p>
See also <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Grep-Searching.html">GNU Emacs Manual</a>.
</p>
</div>
</div>

<div id="outline-container-compilation" class="outline-3">
<h3 id="compilation"><span class="section-number-3">3.6.</span> Compilation</h3>
<div class="outline-text-3" id="text-compilation">
<p>
In Emacs, you can run compilers and build tools, feeding the output into an
Emacs buffer that can be used, for example, for jumping to the lines of errors
and warnings inside the source buffer. See also <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Compilation.html">Emacs manual</a>.
</p>

<p>
With the <a href="https://github.com/bbatsov/projectile">projectile</a> package, you can use the <code>projectile-compile-project</code> command
to compile (e.g. run <code>make</code>) from the root of your project, instead of running it
from the directory of the current buffer. The projectile package has many
similar commands, so make sure you check it out.
</p>
</div>
</div>

<div id="outline-container-ediff" class="outline-3">
<h3 id="ediff"><span class="section-number-3">3.7.</span> Ediff</h3>
<div class="outline-text-3" id="text-ediff">
<p>
This package allows you to compare files, buffers and much more. It&rsquo;s similar to
the <code>diff</code> command, but much more interactive and integrated with Emacs and Magit.
</p>


<div id="org7caab8c" class="figure">
<p><img src="../img/emacs-ediff.png" alt="emacs-ediff.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-browser-and-external-documentation" class="outline-3">
<h3 id="browser-and-external-documentation"><span class="section-number-3">3.8.</span> Browser and external documentation</h3>
<div class="outline-text-3" id="text-browser-and-external-documentation">
<p>
Emacs has many commands related to documentation, but one of the most useful
ones is <code>man</code>. It provides an interface for the <code>man(1)</code> command, and it can be used
to view manual pages for various commands and C functions, while working on your
main buffer. See also <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Man-Page.html">Emacs manual</a>.
</p>

<p>
I decided to include in this section the Emacs browser, <a href="https://www.gnu.org/software/emacs/manual/html_mono/eww.html">eww</a>, since one of my
main usages is for online documentation. The Emacs browser is not meant to be a
replacement for modern standalone browsers, since it doesn&rsquo;t have have support
for CSS or JavaScript. However, if a website is built properly (e.g. this blog),
you should be able to render it without issues.
</p>

<p>
Some time after initially writing this, I found a smart way to use <code>eww</code> that I
think it&rsquo;s worth mentioning here. I wanted to save parts of different HTML files
hosted in a website into a file, so I thought of making a Python script with the
<a href="https://docs.python-requests.org/en/latest/index.html">requests</a> library that downloads each file, and then filter the section that I
was interested in. However, I haven&rsquo;t used that library in a long time, so I
knew it would have taken a bit to get working (just for using it once). What I
did instead was open an empty buffer in Emacs, <code>eww</code> in another window, and record
the following macro (in <a href="#evil-mode">my case</a> with <code>evil-record-macro</code>):
</p>

<ol class="org-ol">
<li>Search what I need to copy on the <code>eww</code> buffer, and copy it.</li>
<li>Navigate to the next HTML file from a link in the website.</li>
<li>Switch to the other buffer, and paste the website contents, along with
whatever text I wanted to add afterwards.</li>
</ol>
</div>
</div>

<div id="outline-container-erc" class="outline-3">
<h3 id="erc"><span class="section-number-3">3.9.</span> ERC</h3>
<div class="outline-text-3" id="text-erc">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_mono/erc.html">ERC</a> is a powerful <a href="https://es.wikipedia.org/wiki/Internet_Relay_Chat">IRC</a> client for Emacs, and it&rsquo;s included since version 22.3. I
don&rsquo;t have much to say about ERC, so I will just quote the list of features
from the manual:
</p>
<ul class="org-ul">
<li>Flood control.</li>
<li>Timestamps.</li>
<li>Join channels automatically.</li>
<li>Buttonize URLs, nicknames, and other text.</li>
<li>Wrap long lines.</li>
<li>Highlight or remove IRC control characters.</li>
<li>Highlight pals, fools, and other keywords.</li>
<li>Detect netsplits.</li>
<li>Complete nicknames and commands in a programmable fashion.</li>
<li>Make displayed lines read-only.</li>
<li>Input history.</li>
<li>Track channel activity in the mode-line.</li>
</ul>
</div>
</div>

<div id="outline-container-c-macro-expansion" class="outline-3">
<h3 id="c-macro-expansion"><span class="section-number-3">3.10.</span> C macro expansion</h3>
<div class="outline-text-3" id="text-c-macro-expansion">
<p>
Emacs allows you to expand C macros with <code>M-x c-macro-expand</code>. This is very useful
for complex and nested macros.
</p>

<p>
For example, if you had this C code:
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #ff6740;">#include</span> <span style="color: #00d3d0;">&lt;stdlib.h&gt;</span>

<span style="color: #ff6740;">#define</span> <span style="color: #6ae4b9;">MY_PATH</span> <span style="color: #00d3d0;">"file.txt"</span>
<span style="color: #ff6740;">#define</span> <span style="color: #4ae2ff;">MY_MACRO</span>(<span style="color: #6ae4b9;">X</span>, <span style="color: #6ae4b9;">Y</span>)                          \
    <span style="color: #ff6f9f;">do</span> {                                        \
        func(<span style="color: #88ca9f;">0x10</span>, MY_PATH, <span style="color: #88ca9f;">NULL</span>);              \
    } <span style="color: #ff6f9f;">while</span> (X++ &lt; Y)

<span style="color: #4ae2ff;">MY_MACRO</span>(i, <span style="color: #88ca9f;">30</span>);
</pre>
</div>

<p>
You could select the last line and use <code>M-x c-macro-expand</code> to expand the macros
in the region recursively (in this case <code>MY_MACRO</code>, <code>MY_PATH</code> and <code>NULL</code>):
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #ff6f9f;">do</span> {
    func(<span style="color: #88ca9f;">0x10</span>, <span style="color: #00d3d0;">"file.txt"</span>, ((<span style="color: #79a8ff;">void</span>*)<span style="color: #88ca9f;">0</span>));
} <span style="color: #ff6f9f;">while</span> (i++ &lt; <span style="color: #88ca9f;">30</span>);
</pre>
</div>

<p>
Discovering this feature was a magical moment. I was writing a C program which
used some complex macros, so I wanted to make sure that they were expanding to
what I thought. I thought that someone could have made an Emacs package about
this, but then I typed <code>M-x macro</code> and saw that this is already a feature in
Emacs.
</p>
</div>
</div>

<div id="outline-container-calculator" class="outline-3">
<h3 id="calculator"><span class="section-number-3">3.11.</span> Calculator</h3>
<div class="outline-text-3" id="text-calculator">
<p>
You can open the Emacs calculator with <code>M-x calc</code>. It uses <a href="https://en.wikipedia.org/wiki/Reverse_Polish_notation">Reverse Polish Notation</a>
(RPN), which might be a bit tricky to get used to, but it&rsquo;s very worth it.
</p>

<p>
Some of the features include:
</p>
<ul class="org-ul">
<li>Choice of algebraic or Reverse Polish notation (RPN), i.e. stack-based, entry
of calculations.</li>
<li>Arbitrary precision integers and floating-point numbers.</li>
<li>Arithmetic on rational numbers, complex numbers (rectangular and polar), error
forms with standard deviations, open and closed intervals, vectors and
matrices, dates and times, infinities, sets, quantities with units, and
algebraic formulas.</li>
<li>Mathematical operations such as logarithms and trigonometric functions.</li>
<li>Programmer’s features (bitwise operations, non-decimal numbers).</li>
<li>Financial functions such as future value and internal rate of return.</li>
<li>Number theoretical features such as prime factorization and arithmetic modulo
m for any m.</li>
<li>Algebraic manipulation features, including symbolic calculus.</li>
<li>Moving data to and from regular editing buffers.</li>
<li>Embedded mode for manipulating Calc formulas and data directly inside any
editing buffer.</li>
<li>Graphics using GNUPLOT, a versatile (and free) plotting program.</li>
<li>Easy programming using keyboard macros, algebraic formulas, algebraic rewrite
rules, or extended Emacs Lisp.</li>
</ul>

<p>
I don&rsquo;t have a lot of experience with the calculator, but I can assure you that
it&rsquo;s worth learning. See also the <a href="https://www.gnu.org/software/emacs/manual/html_mono/calc.html">calc manual</a>.
</p>
</div>

<div id="outline-container-quick-calculator" class="outline-4">
<h4 id="quick-calculator"><span class="section-number-4">3.11.1.</span> Quick calculator</h4>
<div class="outline-text-4" id="text-quick-calculator">
<p>
If you find this overwhelming, you might want to at least consider using
<code>M-x quick-calc</code> for quick (but not necesarily simple) calculations. For example:
</p>

<pre class="example" id="org9ca0966">
M-x quick-calc RET
Quick calc: 632+56-32*4+2^3
Result: 632 + 56 - 32 4 + 2^3 =&gt;  568  (16#238, 8#1070, 2#1000111000)

M-x quick-calc RET
Quick calc: 16#7F33
Result: 32563 =&gt;  32563  (16#7F33, 8#77463, 2#111111100110011)

M-x quick-calc RET
Quick calc: 3x=2x+18
Result: 3 x = 2 x + 18 =&gt;  x = 18
</pre>
</div>
</div>

<div id="outline-container-personal-reference-card" class="outline-4">
<h4 id="personal-reference-card"><span class="section-number-4">3.11.2.</span> Personal reference card</h4>
<div class="outline-text-4" id="text-personal-reference-card">
<p>
These are some keybinds that I use often, appart from the basic operations and
insertion commands:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-u</code> + <i>n</i></td>
<td class="org-left">Run the next command <i>n</i> times, edit <i>n</i> entries, etc.</td>
</tr>

<tr>
<td class="org-left"><code>`</code> (tilde)</td>
<td class="org-left">Edit the top of the stack (Combine with <code>C-u</code>).</td>
</tr>

<tr>
<td class="org-left"><code>D r</code></td>
<td class="org-left">Change the radix used when displaying.</td>
</tr>
</tbody>
</table>

<p>
Some other keybinds, related to the trail:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>t p</code>, <code>t n</code></td>
<td class="org-left">Move up and down in the trail, from the main calc window.</td>
</tr>

<tr>
<td class="org-left"><code>t y</code></td>
<td class="org-left">Copy the selected value in the trail to the main calc window.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

<div id="outline-container-external-packages" class="outline-2">
<h2 id="external-packages"><span class="section-number-2">4.</span> External packages</h2>
<div class="outline-text-2" id="text-external-packages">
<p>
These packages are currently not built into vanilla GNU Emacs, but this might
change in the future, so keep that in mind.
</p>
</div>

<div id="outline-container-evil-mode" class="outline-3">
<h3 id="evil-mode"><span class="section-number-3">4.1.</span> Evil mode</h3>
<div class="outline-text-3" id="text-evil-mode">
<p>
This package allows you to use vi&rsquo;s keybinds in Emacs. I would not use Emacs if
it wasn&rsquo;t for this package. Not much else to be said. This is its <a href="https://github.com/emacs-evil/evil">GitHub
repository</a>.
</p>
</div>
</div>

<div id="outline-container-magit" class="outline-3">
<h3 id="magit"><span class="section-number-3">4.2.</span> Magit</h3>
<div class="outline-text-3" id="text-magit">
<p>
This package provides a great interface for Git, and is very well integrated
with Emacs.
</p>


<div id="org5aa958a" class="figure">
<p><img src="../img/emacs-magit.png" alt="emacs-magit.png" />
</p>
</div>

<p>
It&rsquo;s a very well known package, but this is it&rsquo;s <a href="https://magit.vc/">homepage</a>.
</p>
</div>
</div>

<div id="outline-container-vundo" class="outline-3">
<h3 id="vundo"><span class="section-number-3">4.3.</span> Vundo</h3>
<div class="outline-text-3" id="text-vundo">
<p>
The Emacs undo system is great because, unlike many other editors, treats the
change history as a <i>tree</i> rather than a <i>linear history</i>. This makes it a bit
harder to get used to (tip: use <code>undo-redo</code>), but ensures that no change is lost.
</p>

<p>
The <a href="https://github.com/casouri/vundo">vundo</a> package provides a (navigable) graph for the Emacs undo system.
</p>
</div>
</div>
</div>
</div>
</body>
</html>
